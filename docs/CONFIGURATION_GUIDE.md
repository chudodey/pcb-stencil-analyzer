# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Stencil Analyzer

## üéØ –û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

Stencil Analyzer –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ–∞–π–ª `config.ini` –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—Å–µ–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ –Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Å–µ–∫—Ü–∏–∏, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ä–∞–∑–ª–∏—á–Ω—ã–º –º–æ–¥—É–ª—è–º —Å–∏—Å—Ç–µ–º—ã.

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:

- **–ì–∏–±–∫–æ—Å—Ç—å:** –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å:** –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–º —Ñ–∞–π–ª–µ
- **–ù–∞—Å–ª–µ–¥—É–µ–º–æ—Å—Ç—å:** –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å–µ–∫—Ü–∏–∏:

```
config.ini
‚îú‚îÄ‚îÄ [GENERAL]           # –û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ [PATHS]             # –ü—É—Ç–∏ –∫ —Ä–∞–±–æ—á–∏–º –ø–∞–ø–∫–∞–º
‚îú‚îÄ‚îÄ [SCANNING]          # –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ [GERBER_PROCESSING] # –û–±—Ä–∞–±–æ—Ç–∫–∞ Gerber-—Ñ–∞–π–ª–æ–≤
‚îú‚îÄ‚îÄ [IMAGE_COMPARISON]  # –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
‚îú‚îÄ‚îÄ [VISUALIZATION]     # –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
‚îú‚îÄ‚îÄ [OUTPUT]           # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—ã–≤–æ–¥–∞
‚îú‚îÄ‚îÄ [LOGGING]          # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îú‚îÄ‚îÄ [SYSTEM]           # –°–∏—Å—Ç–µ–º–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
‚îî‚îÄ‚îÄ [PYTHON_REQUIREMENTS] # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
```

## ‚öôÔ∏è –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

### –°–µ–∫—Ü–∏—è [GENERAL] - –û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

```ini
[GENERAL]
; –§–ò–û –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
default_operator_name = –ò–≤–∞–Ω–æ–≤ –ò.–ò.

; –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ü–∏—Ñ—Ä –≤ –Ω–æ–º–µ—Ä–µ –∑–∞–∫–∞–∑–∞ (–¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏)
order_number_digits = 6

; –†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏ (true/false)
; –í —Ä–µ–∂–∏–º–µ –æ—Ç–ª–∞–¥–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
debug_mode = false
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**

- `order_number_digits` –¥–æ–ª–∂–µ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ –Ω—É–º–µ—Ä–∞—Ü–∏–∏ –∑–∞–∫–∞–∑–æ–≤
- `debug_mode = true` –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø—Ä–æ–±–ª–µ–º, `false` –¥–ª—è production

### –°–µ–∫—Ü–∏—è [PATHS] - –†–∞–±–æ—á–∏–µ –ø–∞–ø–∫–∏

```ini
[PATHS]
; –ü–∞–ø–∫–∞ —Å Gerber-—Ñ–∞–π–ª–∞–º–∏ (—ç—Ç–∞–ª–æ–Ω—ã)
gerber_folder = ./test_gerbers/

; –ü–∞–ø–∫–∞ –¥–ª—è —Å–∫–∞–Ω–æ–≤ (–æ–∂–∏–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤)
scan_folder = ./test_scan/

; –ü–∞–ø–∫–∞ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
output_folder = ./test_results/

; –°–æ–∑–¥–∞–≤–∞—Ç—å –ø–æ–¥–ø–∞–ø–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–∫–∞–∑–∞ (true/false)
; –§–æ—Ä–º–∞—Ç: {order_number}_{timestamp}
create_order_subfolder = true
```

**–í–∞–∂–Ω–æ:** –í—Å–µ –ø—É—Ç–∏ —É–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è `main.py` –∏–ª–∏ –∞–±—Å–æ–ª—é—Ç–Ω–æ.

### –°–µ–∫—Ü–∏—è [SCANNING] - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

```ini
[SCANNING]
; –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ (–≤—ã–≤–æ–¥–∏—Ç—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω)
scan_instruction = –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ 1200 dpi, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—é, —Å–æ–≤–º–µ—Å—Ç–∏—Ç–µ —Ç—Ä–∞—Ñ–∞—Ä–µ—Ç –ø–æ –º–∞—Ä–∫–µ—Ä–∞–º –Ω–∞ —Å—Ç–æ–ª–µ.

; –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ—è–≤–ª–µ–Ω–∏—è —Ñ–∞–π–ª–∞ (—Å–µ–∫—É–Ω–¥—ã)
file_check_interval = 1

; DPI –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –≤ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
default_dpi = 600

; –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫–∞ DPI: metadata/config
dpi_priority = metadata

; –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
supported_image_formats = .png,.jpg,.jpeg,.tiff,.tif,.bmp
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ DPI:**

- `dpi_priority = metadata` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å DPI –∏–∑ EXIF –¥–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞
- `dpi_priority = config` - –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `default_dpi`

### –°–µ–∫—Ü–∏—è [GERBER_PROCESSING] - –û–±—Ä–∞–±–æ—Ç–∫–∞ Gerber

```ini
[GERBER_PROCESSING]
; –û—Ç—Å—Ç—É–ø –æ—Ç –∫—Ä–∞–µ–≤ –ø–ª–∞—Ç—ã –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–º–º)
margin_mm = 2.0
```

### –°–µ–∫—Ü–∏—è [IMAGE_COMPARISON] - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

```ini
[IMAGE_COMPARISON]
; –£—á–∏—Ç—ã–≤–∞—Ç—å –æ—Ç—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–∏ —Å–æ–≤–º–µ—â–µ–Ω–∏–∏
consider_reflection = false

; –£–≥–ª—ã –ø–æ–≤–æ—Ä–æ—Ç–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ (–≥—Ä–∞–¥—É—Å—ã)
rotation_angles = 0,90,180,270

; –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã —Ä–∞–∑–º–µ—Ä–æ–≤ –∫–æ–Ω—Ç—É—Ä–æ–≤ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ Gerber
min_contour_coefficient = 0.9
max_contour_coefficient = 1.1

; –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∞–ª–≥–æ—Ä–∏—Ç–º–∞ RANSAC
ransac_reprojection_threshold = 3.0
max_iterations = 2000
confidence = 0.99
refine_iterations = 10

; –ü–æ—Ä–æ–≥–∏ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏ –¥–ª—è –æ—Ü–µ–Ω–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
low_correlation_threshold = 0.2    ; < 0.2 = –ù–ï–£–î–ê–ß–ù–û
medium_correlation_threshold = 0.4 ; 0.2-0.4 = –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï
high_correlation_threshold = 0.8   ; > 0.8 = –£–°–ü–ï–®–ù–û
```

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–∞—á–µ—Å—Ç–≤–∞:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä                        | –í–ª–∏—è–Ω–∏–µ                | –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è      |
| ------------------------------- | ---------------------- | --------------------------- |
| `rotation_angles`               | –¢–æ—á–Ω–æ—Å—Ç—å —Å–æ–≤–º–µ—â–µ–Ω–∏—è    | `0,90,180,270` (–±–∞–∑–æ–≤—ã–µ)    |
| `correlation_thresholds`        | –ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏        | `0.2/0.4/0.8` (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ) |
| `ransac_reprojection_threshold` | –£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º–∞ | `1.0-5.0` (–º–µ–Ω—å—à–µ = —Ç–æ—á–Ω–µ–µ) |

### –°–µ–∫—Ü–∏—è [VISUALIZATION] - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è

```ini
[VISUALIZATION]
; –¶–≤–µ—Ç–∞ –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∏—Ä—É—é—â–µ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (RGB)
; –≠—Ç–∞–ª–æ–Ω (–∫—Ä–∞—Å–Ω—ã–π)
reference_color_r = 255
reference_color_g = 0
reference_color_b = 0

; –°–∫–∞–Ω (–≥–æ–ª—É–±–æ–π)
scan_color_r = 0
scan_color_g = 255
scan_color_b = 255

; –ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ (–±–µ–ª—ã–π)
intersection_color_r = 255
intersection_color_g = 255
intersection_color_b = 255

; –†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ –ø–æ–ª—è
info_font_size = 20

; –¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ (–±–µ–ª—ã–π)
info_text_color_r = 255
info_text_color_g = 255
info_text_color_b = 255

; –¶–≤–µ—Ç —Ñ–æ–Ω–∞ (—á–µ—Ä–Ω—ã–π)
info_background_color_r = 0
info_background_color_g = 0
info_background_color_b = 0
```

### –°–µ–∫—Ü–∏—è [OUTPUT] - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—ã–≤–æ–¥–∞

```ini
[OUTPUT]
; –°–æ—Ö—Ä–∞–Ω—è—Ç—å –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
save_intermediate_images = true

; –°–æ—Ö—Ä–∞–Ω—è—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ–≤–º–µ—â–µ–Ω–∏—è
save_final_image = true

; –î–µ–π—Å—Ç–≤–∏–µ –ø—Ä–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∞–π–ª–∞—Ö
; overwrite - –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—Ç—å
; increment - –¥–æ–±–∞–≤–ª—è—Ç—å —Å—É—Ñ—Ñ–∏–∫—Å _1, _2, ...
existing_files_action = increment

; –®–∞–±–ª–æ–Ω—ã –∏–º–µ–Ω —Ñ–∞–π–ª–æ–≤ ({order_number} –∑–∞–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ –Ω–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞)
gerber_image_filename = {order_number}_1_gerber.png
original_scan_filename = {order_number}_2_scan.png
processed_scan_filename = {order_number}_3_scan_prep.png
comparison_result_filename = {order_number}_4_compared.png
detailed_log_filename = {order_number}_5_log_detailed.txt
short_log_filename = {order_number}_6_log_short.txt
```

### –°–µ–∫—Ü–∏—è [LOGGING] - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

```ini
[LOGGING]
; –£—Ä–æ–≤–µ–Ω—å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –ª–æ–≥–æ–≤: none/short/detailed
log_level = short

; –§–æ—Ä–º–∞—Ç –¥–∞—Ç—ã –∏ –≤—Ä–µ–º–µ–Ω–∏
datetime_format = %Y-%m-%d %H:%M:%S

; –®–∞–±–ª–æ–Ω –∫—Ä–∞—Ç–∫–æ–≥–æ –ª–æ–≥–∞
short_log_template = –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è: {datetime}\n–û–ø–µ—Ä–∞—Ç–æ—Ä: {operator_name}\n–ù–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞: {order_number}\n–†–µ–∑—É–ª—å—Ç–∞—Ç –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏: {correlation_result:.3f}\n–°—Ç–∞—Ç—É—Å —Å–æ–≤–º–µ—â–µ–Ω–∏—è: {alignment_status}

; –í–∫–ª—é—á–∞—Ç—å –æ—Ç–ª–∞–¥–æ—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –ª–æ–≥
include_debug_info = false
```

### –°–µ–∫—Ü–∏—è [SYSTEM] - –°–∏—Å—Ç–µ–º–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

```ini
[SYSTEM]
; –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ —Å–∫–∞–Ω–∞ (–ú–ë, 0 = –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π)
max_scan_file_size = 100

; –¢–∞–π–º–∞—É—Ç –æ–∂–∏–¥–∞–Ω–∏—è —Ñ–∞–π–ª–∞ —Å–∫–∞–Ω–∞ (—Å–µ–∫—É–Ω–¥—ã, 0 = –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π)
scan_wait_timeout = 300
```

## üéØ –ì–æ—Ç–æ–≤—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏

```ini
[GENERAL]
debug_mode = true

[IMAGE_COMPARISON]
rotation_angles = 0,45,90,135,180,225,270,315
consider_reflection = true
ransac_reprojection_threshold = 1.0
max_iterations = 5000
confidence = 0.999
low_correlation_threshold = 0.3
medium_correlation_threshold = 0.6
high_correlation_threshold = 0.9

[OUTPUT]
save_intermediate_images = true
save_final_image = true

[LOGGING]
log_level = detailed
include_debug_info = true
```

**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:** –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è, —Ç—Ä–µ–±—É—é—â–∏–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏

```ini
[GENERAL]
debug_mode = false

[IMAGE_COMPARISON]
rotation_angles = 0,90,180,270
consider_reflection = false
ransac_reprojection_threshold = 5.0
max_iterations = 1000
confidence = 0.95
low_correlation_threshold = 0.2
medium_correlation_threshold = 0.4
high_correlation_threshold = 0.8

[OUTPUT]
save_intermediate_images = false
save_final_image = true

[LOGGING]
log_level = short
include_debug_info = false

[SYSTEM]
scan_wait_timeout = 60
```

**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:** –°–µ—Ä–∏–π–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞, –≤—ã—Å–æ–∫–∞—è –ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```ini
[GENERAL]
debug_mode = true

[PATHS]
create_order_subfolder = true

[IMAGE_COMPARISON]
rotation_angles = 0,90,180,270
consider_reflection = true

[OUTPUT]
save_intermediate_images = true
save_final_image = true
existing_files_action = increment

[LOGGING]
log_level = detailed
include_debug_info = true

[SYSTEM]
max_scan_file_size = 0  ; –ë–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
```

**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:** –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

## üîß –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∏—Å—Ç–µ–º—ã —Å—Ç—Ä–∞—Ç–µ–≥–∏–π

```ini
[EVALUATOR]
; –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —É—Å–∏–ª–µ–Ω–∏—è –¥–ª—è —Ö–æ—Ä–æ—à–∏—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
boost_factor = 1.3

; –®—Ç—Ä–∞—Ñ–Ω–æ–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –¥–ª—è –ø–ª–æ—Ö–∏—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
penalty_factor = 0.7

; –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –≥—Ä–∞–Ω–∏—Ü
min_boundary_match_threshold = 0.3
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞–π–ø–ª–∞–π–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏

```ini
[PIPELINE]
; –°—Ç—Ä–∞—Ç–µ–≥–∏—è –ø–∞–π–ø–ª–∞–π–Ω–∞: minimal/optimized
pipeline_strategy = optimized
```

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ

### –î–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Ç—Ä–∞—Ñ–∞—Ä–µ—Ç–æ–≤

#### –ú–µ–ª–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (0201, 01005):

```ini
[IMAGE_COMPARISON]
min_contour_coefficient = 0.8
max_contour_coefficient = 1.2
ransac_reprojection_threshold = 1.0
```

#### –ö—Ä—É–ø–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã ( connectors, BGA):

```ini
[IMAGE_COMPARISON]
min_contour_coefficient = 0.9
max_contour_coefficient = 1.1
ransac_reprojection_threshold = 3.0
```

### –î–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ —Ç—Ä–∞—Ñ–∞—Ä–µ—Ç–æ–≤

#### –ù–µ—Ä–∂–∞–≤–µ—é—â–∞—è —Å—Ç–∞–ª—å:

```ini
[IMAGE_COMPARISON]
low_correlation_threshold = 0.25  ; –£—á–µ—Ç –æ—Ç—Ä–∞–∂–µ–Ω–∏–π
```

#### –ü–æ–ª–∏–∏–º–∏–¥–Ω–∞—è –ø–ª–µ–Ω–∫–∞:

```ini
[IMAGE_COMPARISON]
low_correlation_threshold = 0.15  ; –£—á–µ—Ç –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏
```

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ –∏ –∏—Ö —Ä–µ—à–µ–Ω–∏–µ

#### –û—à–∏–±–∫–∞: "–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –ø–æ—Ä–æ–≥–∏ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏"

**–°–∏–º–ø—Ç–æ–º:** –û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ `low_correlation_threshold <= medium_correlation_threshold <= high_correlation_threshold`

#### –û—à–∏–±–∫–∞: "–§–∞–π–ª—ã –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è"

**–°–∏–º–ø—Ç–æ–º:** –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤—ã—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `save_final_image = true` –∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∞–ø–∫–µ `output_folder`

#### –û—à–∏–±–∫–∞: "–ú–µ–¥–ª–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞"

**–°–∏–º–ø—Ç–æ–º:** –î–ª–∏—Ç–µ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
**–†–µ—à–µ–Ω–∏–µ:** –£–≤–µ–ª–∏—á–∏—Ç—å `ransac_reprojection_threshold`, —É–º–µ–Ω—å—à–∏—Ç—å `max_iterations`

#### –û—à–∏–±–∫–∞: "–ù–∏–∑–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å —Å–æ–≤–º–µ—â–µ–Ω–∏—è"

**–°–∏–º–ø—Ç–æ–º:** –ü–ª–æ—Ö–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å —É–≥–ª—ã –≤ `rotation_angles`, —É–º–µ–Ω—å—à–∏—Ç—å `ransac_reprojection_threshold`

### –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

```python
# –í —Ä–µ–∂–∏–º–µ –æ—Ç–ª–∞–¥–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤—ã–≤–æ–¥–∏—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
python main.py --debug
```

#### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π:

```bash
# –°–æ–∑–¥–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é —Ç–µ–∫—É—â–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
copy config.ini config_backup.ini

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
copy config_default.ini config.ini
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

| –ú–µ—Ç—Ä–∏–∫–∞              | –¶–µ–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ | –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–ª–∏—è–Ω–∏—è                                         |
| -------------------- | ---------------- | --------------------------------------------------------- |
| –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏      | < 30 —Å–µ–∫—É–Ω–¥      | `max_iterations`, `rotation_angles`                       |
| –¢–æ—á–Ω–æ—Å—Ç—å —Å–æ–≤–º–µ—â–µ–Ω–∏—è  | > 0.8            | `correlation_thresholds`, `ransac_reprojection_threshold` |
| –£—Å–ø–µ—à–Ω–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ | > 90%            | `min_contour_coefficient`, `consider_reflection`          |

### –ü—Ä–æ—Ü–µ—Å—Å —Ç–æ–Ω–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

1. **–ë–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã:** –ó–∞–ø—É—Å—Ç–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É 10-20 —Ç–∏–ø–æ–≤—ã—Ö –∑–∞–∫–∞–∑–æ–≤
2. **–ê–Ω–∞–ª–∏–∑ –º–µ—Ç—Ä–∏–∫:** –°–æ–±—Ä–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –∏ —Ç–æ—á–Ω–æ—Å—Ç–∏
3. **–ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
4. **–í–∞–ª–∏–¥–∞—Ü–∏—è:** –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ç–æ–º –∂–µ –Ω–∞–±–æ—Ä–µ –¥–∞–Ω–Ω—ã—Ö
5. **–í–Ω–µ–¥—Ä–µ–Ω–∏–µ:** –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

## üíæ –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è:

```
configs/
‚îú‚îÄ‚îÄ production.ini          # –†–∞–±–æ—á–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ high_accuracy.ini       # –î–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ fast_processing.ini     # –î–ª—è –±—ã—Å—Ç—Ä–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
‚îú‚îÄ‚îÄ debug.ini              # –î–ª—è –æ—Ç–ª–∞–¥–∫–∏
‚îî‚îÄ‚îÄ archive/
    ‚îú‚îÄ‚îÄ config_2024-01-01.ini
    ‚îî‚îÄ‚îÄ config_2024-02-01.ini
```

### –°–∫—Ä–∏–ø—Ç –±—ã—Å—Ç—Ä–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π:

```bash
@echo off
REM –ë—ã—Å—Ç—Ä–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏
if "%1"=="production" copy configs\production.ini config.ini
if "%1"=="debug" copy configs\debug.ini config.ini
if "%1"=="fast" copy configs\fast_processing.ini config.ini
echo –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è %1 –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞
```

---

_–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ v2.1.0_  
_–î–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è_
